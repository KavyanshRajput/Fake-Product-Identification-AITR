<!DOCTYPE html>
<html>
<head>
    <title>{{ company }} Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        body {
            background: linear-gradient(110deg, #072638 0%, #14445a 90%, #1de9b6 100%);
            color: #e2fff8;
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
        }
        h2 { color: #21e6c1; margin-top: 28px; text-align: center; }
        .table-holder { max-width: 720px; margin: 32px auto; background: rgba(12,42,36,0.92); border-radius: 14px; box-shadow: 0 6px 24px #052e2b61; padding: 28px; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { padding: 14px; border-bottom: 1px solid #194d5ea0; text-align: left;}
        th { color: #21e6c1; background: #052e2b; }
        tr:last-child td { border-bottom: none;}
        .qr-link {
            color: #1de9b6;
            font-weight: 700;
            text-decoration: none;
            padding: 6px 12px;
            border-radius: 8px;
            background: #052e2b;
            transition: background 0.2s;
        }
        .qr-link:hover {
            background: #14445a;
            color: #fff;
        }
        .edit-link {
            color: #21e6c1;
            font-weight:700;
            text-decoration:none;
            margin-right:14px;
        }
        .delete-btn {
            background:#731f1f;
            color:#fff;
            border:none;
            border-radius:6px;
            padding:5px 12px;
            cursor:pointer;
            font-weight:700;
        }
        .delete-btn:hover {
            background:#a83232;
        }
        td.actions { min-width: 140px; }
    </style>
</head>
<body>
    <h2>{{ company }} Dashboard</h2>
    <div class="table-holder">
        <h3>Registered Products</h3>
        <a href="{{ url_for('register_product') }}"
        style="display:inline-block; margin-bottom:15px; padding:10px 14px; border-radius:8px; background:#21e6c1; color:#052e2b; font-weight:700; text-decoration:none;">+ Register New Product</a>

        <table>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Unique Code</th>
                <th>QR Code</th>
                <th>Actions</th>
            </tr>
            {% for id, name, code in products %}
            <tr>
                <td>{{ id }}</td>
                <td>{{ name }}</td>
                <td>{{ code }}</td>
                <td>
                    <a class="qr-link" href="{{ url_for('show_qr', product_id=id) }}" target="_blank">
                        Show QR
                    </a>
                </td>
                <td class="actions">
                    <!-- Edit -->
                    <a class="edit-link" href="{{ url_for('update_product', product_id=id) }}">Edit</a>
                    <!-- Delete -->
                    <form method="POST" action="{{ url_for('delete_product', product_id=id) }}" style="display:inline;" onsubmit="return confirm('Are you sure you want to delete this product?');">
                        <button type="submit" class="delete-btn">Delete</button>
                    </form>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5">No products registered yet.</td>
            </tr>
            {% endfor %}
        </table>
    </div>
</body>
</html>
